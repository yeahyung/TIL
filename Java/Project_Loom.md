## Project Loom

### Virtual Thread
 - `가상 스레드`란 전통적인 Java 스레드에 더하여 새롭게 추가되는 경량 스레드
 - OS 스레드를 사용하지 않고 JVM 자체적으로 내부 스케줄링을 통해서 사용할 수 있는 경량의 스레드 제공

#### Virtual Thread가 나오게 된 배경
 - 자바의 전통적인 스레드는 OS의 스레드를 wrapping 한 것으로 `플랫폼 스레드`라고 정의한다.
   - 따라서, Java Application 에서 사용하는 스레드 = OS 스레드를 사용하는 방식
   - OS 커널에서 사용할 수 있는 스레드는 개수가 제한적이고 생성과 유지 비용이 비쌈
   - 따라서, 기존 어플리케이션에서는 비싼 자원인 `플랫폼 스레드`를 효율적으로 사용하기 위해 `스레드 풀`을 만들어서 사용
 - 처리량(throughput)의 한계
   - Spring Boot 같은 어플리케이션의 사용자 요청 처리 방식은 Thread Per Request 이다.
   - 즉, 어플리케이션의 처리량은 스레드 풀에서 감당할 수 있는 범위를 넘어서 늘어날 수 없음
 - Blocking 으로 인한 리소스 낭비
   - Thread Per Request 모델에서는 요청을 처리하는 스레드에서 I/O 작업을 처리할 때 Blocking 이 발생한다.
   - 이때문에, 스레드는 I/O 작업이 마칠 때 까지 다른 요청을 처리하지 못하고 기다려야함
     - => Non-blocking 방식의 Reactive Programming 발전
     - => WebFlux / 하지만 코드를 작성하고 이해하기 어렵고, 기존 라이브러리들 또한 Reactive 방식에 맞게 새롭게 작되어야함, 디버깅도 어려워짐(사용자의 요청이 스레드를 넘나들며 처리되기 때문에)

### Virtual Thread의 목적
 - 높은 처리량의 서버 제공
   - `Virtual Thread`는 Blocking이 발생하면 내부적으로 스케줄링을 활용하여 플랫폼 스레드가 그냥 대기하게 두지 않고 다른 `가상 스레드`가 작업할 수 있도록 한다.
 - 자바 플랫폼의 디자인과 조화를 이루는 코드 생성 가능
   - WebFlux 와 다르게 디버깅, 프로파일링 등을 기존의 방식으로 사용 가능